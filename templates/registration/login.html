{% load static %}
{% load widget_tweaks %}
<!doctype html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <title>GH Lands Commission</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ghana Lands Commission Portal" />
    <meta name="keywords" content="Ghana, Lands, Commission, Portal" />
    <meta name="author" content="Ghana Lands Commission" />
    <!-- favicon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico">

    <!-- Css -->
    <!-- Bootstrap Css -->
    <link href="{% static 'assets/css/bootstrap.min.css' %}" class="theme-opt" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'assets/css/chart.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'assets/libs/remixicon/fonts/remixicon.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'assets/libs/@iconscout/unicons/css/line.css' %}" type="text/css" rel="stylesheet" />
    <!-- Style Css-->
    <link href="{% static 'assets/css/style.min.css' %}" class="theme-opt" rel="stylesheet" type="text/css" />
    <style>
        .land-image {
            background-size: cover;
            background-position: center;
            height: 100vh;
            border-radius: 10px 0 0 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .login-container {
            height: 100vh;
            display: flex;
            align-items: center;
        }
        .login-card {
            border-radius: 0 10px 10px 0;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        @media (max-width: 768px) {
            .land-image {
                display: none;
            }
            .login-card {
                border-radius: 10px;
            }
        }
    </style>
</head>

<body>
    <!-- MESSAGES -->
    {% if messages %}
        {% for message in messages %}
        <div style="width: 45%; display: block; background-color: #f8d7da; color: #721c24; border-color: #f5c6cb;" class="alert" role="alert" data-timeout="4000">
            <strong>{{ message }}</strong>
            <button type="button" class="btn-close" style="float: right;" aria-label="Close"></button>
        </div>
        {% endfor %}
    {% endif %}

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        var alerts = document.querySelectorAll('.alert[data-timeout]');

        alerts.forEach(function(alert) {
            var timeout = parseInt(alert.getAttribute('data-timeout'), 10);

            // Automatic dismissal after timeout
            setTimeout(function() {
                alert.style.transition = 'opacity 0.5s ease';
                alert.style.opacity = '0';
                setTimeout(function() {
                    alert.style.display = 'none';  // Hide instead of remove for simplicity
                }, 500);
            }, timeout);

            // Manual dismissal on click
            var closeButton = alert.querySelector('.btn-close');
            if (closeButton) {
                closeButton.addEventListener('click', function() {
                    alert.style.transition = 'opacity 0.5s ease';
                    alert.style.opacity = '0';
                    setTimeout(function() {
                        alert.style.display = 'none';  // Hide instead of remove for simplicity
                    }, 500);
                });
            }
        });
    });
    </script>

    <!-- Hero Start -->
    <section class="bg-home d-flex bg-light align-items-center">
        <div class="container">
            <div class="row align-items-center">
                <!-- Left side - Ghana Lands Commission Image (8 columns) -->
                <div class="col-lg-8 col-md-7 d-none d-md-block">

<div class="land-image">
    <img src="{% static 'assets/images/lands.jpg' %}"
         alt="Ghana Lands Commission"
         class="img-fluid w-100 h-100 object-fit-cover">

    <div class="d-flex align-items-end h-100 p-4 position-absolute top-0 start-0 w-100">
        <div class="text-white">
            <!-- Your text content goes here -->
        </div>
    </div>
</div>


                </div>

                <!-- Right side - Login Form (4 columns) -->
                <div class="col-lg-4 col-md-5">
                    <div class="login-container">
                        <div class="card login-page login-card shadow rounded border-0 w-100">
                            <div class="card-body">
                                <div class="text-center mb-4">
                                    <img src="{% static 'assets/images/lands.jpg' %}" alt="Ghana Lands Commission Logo" height="50" class="mb-3">
                                    <h4 class="text-center">Staff Login</h4>
                                </div>

                               <form action="{% url 'login' %}" method="post" id="login-form">
    {% csrf_token %}
    <input type="hidden" name="next" value="{{ next }}"/>
    <div class="row">
        <!-- Department -->
        <div class="col-lg-12">
            <div class="mb-3">
                <label for="searchIN" class="form-label">Choose Department <span class="text-danger">*</span></label>
                {% render_field form.staff_department id='searchIN' class='form-select'  %}
            </div>
        </div>

        <!-- User_ID FIELD -->
        <div class="col-lg-12">
            <div class="mb-3">
                <label for="User_ID" class="form-label">Staff ID <span class="text-danger">*</span></label>
                {% render_field form.user_ID type='text' id='User_ID' class='form-control' placeholder='ID' %}
            </div>
        </div>

        <!-- Password Field with Toggle -->
        <div class="col-lg-12">
            <div class="mb-3">
                <label for="password" class="form-label">Password <span class="text-danger">*</span></label>
                <div class="input-group">
                    {% render_field form.password id='password' type='password' class='form-control' placeholder='password' %}
                    <button class="btn btn-outline-secondary toggle-password" type="button">
                        <i class="ri-eye-line"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="col-lg-12 mb-0">
            <div class="d-grid">
                <button value="Submit" type="submit" name="submit" class="btn btn-primary">Log in</button>
            </div>
        </div>

        <div class="col-lg-12 mt-3 text-center">
            <a href="{% url 'password_reset' %}" class="text-dark">Forgot password?</a>
        </div>
    </div>
</form>

<style>
    .toggle-password {
        border-left: none;
        background-color: #f8f9fa;
    }
    .toggle-password:hover {
        background-color: #e9ecef;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const togglePassword = document.querySelector('.toggle-password');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function() {
        // Toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);

        // Toggle the eye icon
        const icon = this.querySelector('i');
        if (type === 'password') {
            icon.classList.remove('ri-eye-off-line');
            icon.classList.add('ri-eye-line');
        } else {
            icon.classList.remove('ri-eye-line');
            icon.classList.add('ri-eye-off-line');
        }
    });
});
</script>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero End -->

    <!-- javascript -->
    <script src="{% static 'assets/libs/feather-icons/feather.min.js' %}"></script>
    <!-- Main Js -->
    <!-- JAVASCRIPT -->
    <script src="{% static 'assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins.init.js' %}"></script>
    <script src="{% static 'assets/js/app.js' %}"></script>
</body>
</html>